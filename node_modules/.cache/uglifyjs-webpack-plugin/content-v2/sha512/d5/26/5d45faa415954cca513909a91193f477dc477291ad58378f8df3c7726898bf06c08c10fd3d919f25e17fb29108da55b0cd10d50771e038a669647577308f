{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"ad436d0e\"],{2293:function(e,a,t){\"use strict\";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"div\",{staticClass:\"About\"},[t(\"q-card\",{staticClass:\"bg-white card-styl\"},[e.spinner?t(\"div\",{staticClass:\"loader\"}):e._e(),t(\"div\",{staticClass:\"row\"},[t(\"div\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12\",attrs:{align:\"right\"}},[t(\"q-btn\",{attrs:{slot:\"right\"},on:{click:function(a){e.addUser()}},slot:\"right\"},[e._v(\"ADD USER\")])],1)]),t(\"q-table\",{attrs:{data:e.tableData,title:\"User Details\",columns:e.columns,color:\"black\",filter:e.filter,separator:e.separator,\"row-key\":\"name\",loading:e.loading},scopedSlots:e._u([{key:\"top-right\",fn:function(a){return[t(\"q-search\",{staticClass:\"col-12\",model:{value:e.filter,callback:function(a){e.filter=a},expression:\"filter\"}})]}},{key:\"body\",fn:function(a){return t(\"q-tr\",{staticClass:\"cursor-pointer\",attrs:{props:a}},[e._l(a.cols,function(s){return t(\"q-td\",{key:s.name,attrs:{props:a}},[e._v(\"\\n         \"+e._s(s.value)+\"\\n       \")])}),t(\"q-td\",[t(\"q-btn\",{staticClass:\"q-mr-xs\",attrs:{color:\"green\",icon:\"edit\"},on:{click:function(t){e.editUserData(a.row)}}})],1)],2)}}])}),t(\"q-modal\",{attrs:{\"no-backdrop-dismiss\":\"\",\"content-css\":{minWidth:\"70vw\"}},model:{value:e.userModalAdd,callback:function(a){e.userModalAdd=a},expression:\"userModalAdd\"}},[t(\"q-modal-layout\",[t(\"q-toolbar\",{staticClass:\"bg-secondary\",attrs:{slot:\"header\"},slot:\"header\"},[e.addUserDiv?t(\"q-toolbar-title\",[e._v(\"\\n            Add New User\\n          \")]):e._e(),e.editUserDiv?t(\"q-toolbar-title\",[e._v(\"\\n            Edit User\\n          \")]):e._e(),t(\"q-btn\",{staticStyle:{float:\"right\"},attrs:{flat:\"\",round:\"\",dense:\"\",icon:\"close\"},on:{click:function(a){e.closePopUp()}}})],1),t(\"div\",{staticClass:\"q-pa-lg\"},[t(\"div\",{staticClass:\"row gutter-sm q-mb-md\"},[t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[t(\"q-field\",[t(\"q-input\",{attrs:{type:\"text\",\"float-label\":\"FirstName *\"},model:{value:e.firstName,callback:function(a){e.firstName=a},expression:\"firstName\"}}),e.firstNameErrorMsg?t(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                          Please Enter the First Name.\\n                    \")]):e._e()],1)],1),t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[t(\"q-field\",[t(\"q-input\",{attrs:{type:\"text\",\"float-label\":\"LastName\"},model:{value:e.lastName,callback:function(a){e.lastName=a},expression:\"lastName\"}}),e.lastNameErrorMsg?t(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                         Please Enter the Last Name.\\n                   \")]):e._e()],1)],1),t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[t(\"q-field\",[t(\"q-input\",{staticClass:\"input-field inline_s\",attrs:{type:\"text\",readonly:e.readonly,\"float-label\":\"EmailId *\"},model:{value:e.emailId,callback:function(a){e.emailId=a},expression:\"emailId\"}}),e.emailIdErrorMsg?t(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                     Please Enter the Email Id.\\n                   \")]):e._e()],1)],1)]),t(\"div\",{staticClass:\"row gutter-sm q-mb-md\"},[t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[t(\"q-field\",[t(\"q-input\",{staticClass:\"input-field inline_s\",attrs:{type:\"text\",\"float-label\":\"Password *\"},model:{value:e.Password,callback:function(a){e.Password=a},expression:\"Password\"}}),e.passwordErrorMsg?t(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                       Please Enter Password.\\n                    \")]):e._e()],1)],1),t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[t(\"q-field\",[t(\"q-select\",{staticClass:\"col-xs-12 col-sm-12\",attrs:{filter:\"\",options:e.groupOptions,\"stack-label\":\"GroupId *\"},on:{input:function(a){e.getGroupID()}},model:{value:e.GroupId,callback:function(a){e.GroupId=a},expression:\"GroupId\"}}),e.groupidErrorMsg?t(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                       Please Enter groupID.\\n                    \")]):e._e()],1)],1)]),t(\"div\",{staticClass:\"row gutter-sm q-mb-md\"},[t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[t(\"q-select\",{staticClass:\"col-xs-12 col-sm-12\",attrs:{filter:\"\",options:e.enterSelectOptions,\"stack-label\":\"Location *\"},on:{input:function(a){e.getLocationID()}},model:{value:e.getLocation,callback:function(a){e.getLocation=a},expression:\"getLocation\"}}),e.LocationErrorMsg?t(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                       Please Select Location.\\n                    \")]):e._e()],1),\"DC\"==e.getLocation?t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[t(\"q-field\",[t(\"q-input\",{attrs:{type:\"text\",\"float-label\":\"WarehouseId\"},model:{value:e.warehouseId,callback:function(a){e.warehouseId=a},expression:\"warehouseId\"}}),e.warehouseIdErrorMsg?t(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                         Please Enter the warehouseId.\\n                   \")]):e._e()],1)],1):e._e(),t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[t(\"q-field\",[t(\"q-input\",{staticClass:\"input-field inline_s\",attrs:{type:\"number\",\"float-label\":\"PhoneNo\"},model:{value:e.phoneno,callback:function(a){e.phoneno=a},expression:\"phoneno\"}}),e.phonenoErrorMsg?t(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                       Please Enter Phoneno.\\n                    \")]):e._e()],1)],1)]),t(\"div\",{staticClass:\"row justify-end q-mt-md\"},[e.checkStatusForAdmin&&e.emailId!=e.$store.state.example.userEmail?t(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-6 col-xs-6\"},[t(\"q-toggle\",{attrs:{color:\"green\",label:\"Active\",\"left-label\":\"\"},model:{value:e.checkStatus,callback:function(a){e.checkStatus=a},expression:\"checkStatus\"}})],1):e._e(),t(\"div\",{staticClass:\"col-lg-3 col-md-3 col-sm-6 col-xs-6\"},[t(\"q-btn\",{staticClass:\"full-width\",attrs:{disabled:e.disableSbtn},on:{click:function(a){e.submitUserData()}}},[e._v(\"\\n                   SUBMIT\\n                 \")])],1)])])],1)],1)],1)],1)},o=[];s._withStripped=!0;t(\"7f7f\"),t(\"ac6a\");var r=t(\"c604\"),i=t(\"62a9\"),l=t(\"66d7\"),n=t(\"7b38\"),d=t(\"53fe\"),c=t(\"0952\"),u=t(\"7646\"),m=t(\"6580\"),p=t(\"5931\"),f=t(\"2f48\"),h=t(\"6186\"),g=t(\"7051\"),v=t(\"2a70\"),b=t(\"bc9b\"),I={components:{QTable:r[\"a\"],QTh:i[\"a\"],QTr:l[\"a\"],QTd:n[\"a\"],QTableColumns:d[\"a\"],QModal:c[\"a\"],QCard:u[\"a\"],QCardTitle:m[\"a\"],QSelect:p[\"a\"],QUploader:f[\"a\"],QSearch:h[\"a\"],QLayout:g[\"a\"],QModalLayout:v[\"a\"],QToggle:b[\"a\"]},data:function(){return{groupOptions:[],enterSelectOptions:[],warehouseDropDownOptions:[],getLocation:\"\",LocationErrorMsg:!1,tableData:[],loading:!1,separator:\"cell\",filter:\"\",userModalAdd:!1,firstName:\"\",firstNameErrorMsg:!1,lastName:\"\",lastNameErrorMsg:!1,warehouseId:\"\",warehouseIdErrorMsg:!1,emailId:\"\",emailIdErrorMsg:!1,UserId:\"\",UserIdErrorMsg:!1,Password:\"\",passwordErrorMsg:!1,GroupId:\"\",groupidErrorMsg:!1,WarehouseId:\"\",WarehouseIdErrorMsg:!1,phoneno:\"\",phonenoErrorMsg:!1,db:{id:\"myntra-rtv-984a2\",url:\"https://myntra-rtv-984a2.firebaseio.com/\"},readonly:!1,checkStatus:!0,checkStatusForAdmin:!1,dropDownRole:\"\",roleErrorMsg:!1,doctorsDiv:!1,disableSbtn:!1,addUserDiv:!1,editUserDiv:!1,userKey:\"\",number:\"\",spinner:!1,userId:\"\",savedUId:\"\",allLocations:{},editAdminInfo:!0,columns:[{name:\"userName\",required:!0,label:\"User Name\",align:\"center\",field:\"userName\",sortable:!0,descending:!1},{name:\"emailIdDb\",label:\"Email ID\",align:\"center\",field:\"emailIdDb\",sortable:!0},{name:\"mobileNo\",label:\"Mobile No\",align:\"center\",field:\"mobileNo\",sortable:!0}]}},mounted:function(){var e=this;firebase.auth().onAuthStateChanged(function(a){a?firebase.database(app2).ref(\"UserDetails\").once(\"value\",function(e){e.forEach(function(e){if(a.uid==e.key){console.log(e.val());var t={apiKey:\"AIzaSyCuJkgdQnrQ0xknJyyBI0hPldFAJRksMLM\",authDomain:\"myntra-rtv.firebaseapp.com\",databaseURL:\"https://myntra-rtv.firebaseio.com\",projectId:\"myntra-rtv\",storageBucket:\"myntra-rtv.appspot.com\",messagingSenderId:\"175254326261\"};firebase.initializeApp(t,\"org\")}})}):e.$router.push(\"/\")})},created:function(){var e=this;e.getWarehouseDetails(),e.updateDataTable()},methods:{getWarehouseDetails:function(){this.warehouseDropDownOptions=[];var e=this;firebase.database().ref(\"Warehouse\").once(\"value\",function(a){a.forEach(function(a){e.warehouseDropDownOptions.push({label:a.key,value:{id:a.val().id,name:a.val().name,url:a.val().url}})})})},updateDataTable:function(){var e=this;e.loading=!0,setTimeout(function(){e.loading=!1},2e3),e.getUsersData()},getLocationID:function(){var e=this;e.enterSelectOptions=[];var a=firebase.database().ref(\"Locations\");a.once(\"value\",function(a){e.enterSelectOptions=[],a.forEach(function(a){var t=a.key;e.allLocations[a.key]=a.val(),e.enterSelectOptions.push({label:a.val().name,value:t})})})},getGroupID:function(){var e=this;e.groupOptions=[],firebase.database().ref(\"Group\").once(\"value\",function(a){a.forEach(function(a){console.log(a),e.groupOptions.push({label:a.val().group_id+\" - \"+a.val().name,value:a.val().group_id})})})},getUsersData:function(){var e=this;e.tableData.length=0,firebase.database(app2).ref(\"UserDetails\").orderByChild(\"created_at\").once(\"value\",function(a){a.forEach(function(a){\"\"===a.val().firstName||a.val().location_id!==e.$store.state.example.userLocId&&\"DC\"!==a.val().location_id||e.tableData.push({userName:a.val().firstname+\" \"+a.val().lastname,emailIdDb:a.val().email,mobileNo:a.val().phone_number,user_id:a.val().user_id})}),e.tableData.reverse()})},addUser:function(){var e=this;e.getLocationID(),e.getGroupID(),e.addUserDiv=!0,e.userModalAdd=!0},editUserData:function(e){var a=this;a.getLocationID(),a.getGroupID(),a.readonly=!0,a.editUserDiv=!0,a.userModalAdd=!0;(new Date).getTime();firebase.database(app2).ref(\"UserDetails\").orderByChild(\"userid/uid\").once(\"value\",function(t){t.forEach(function(t){e.emailIdDb===t.val().email&&(a.checkStatusForAdmin=!0,a.firstName=t.val().firstname,a.lastName=t.val().lastname,a.emailId=t.val().email,a.Password=t.val().password,a.GroupId=t.val().group_id,a.getLocation=t.val().location_id,a.warehouseId=t.val().warehouse_id,a.phoneno=t.val().phone_number,a.created_at=t.val().created_at,a.userKey=t.key,a.checkStatus=t.val().is_active)})})},submitUserData:function(){var e=this;!0===e.addUserDiv&&e.addUserFunction(),!0===e.editUserDiv&&e.editUserFunction()},editUserFunction:function(){var e=this;if(e.disableSbtn=!0,e.validationForUserData()){var a=(new Date).getTime();firebase.database(app2).ref(\"UserDetails\").orderByChild(\"email\").equalTo(e.emailId).on(\"child_added\",function(t){var s={firstname:e.firstName,lastname:e.lastName,email:e.emailId,password:e.Password,group_id:e.GroupId,location_id:e.getLocation,phone_number:e.phoneno,db:e.allLocations[e.getLocation],is_active:e.checkStatus,modified_at:a};e.warehouseId&&(s[\"warehouse_id\"]=e.warehouseId),firebase.database(app2).ref(\"UserDetails\").child(t.key).update(s).then(function(){e.userModalAdd=!1,e.$q.notify({color:\"green\",textColor:\"white\",message:\"Data has been updated succussfully\",position:\"bottom-right\",timeout:3e3}),e.updateDataTable(),e.emtpyAllFields(),e.disableSbtn=!1}).catch(function(a){console.log(a),e.$q.notify({color:\"black\",textColor:\"white\",message:\"Data couldn't be saved.Please try again later.\",position:\"bottom-left\",timeout:3e3}),e.emtpyAllFields(),e.disableSbtn=!1})})}e.disableSbtn=!1},addUserFunction:function(){var e=this;if(e.savedUId=\"\",e.validationForUserData()){var a=e.firstName,t=e.lastName,s=e.emailId,o=e.Password,r=e.GroupId,i=e.phoneno,l=e.warehouseId,n=e.getLocation,d={firstname:a,lastname:t,email:s,password:o,group_id:r,phone_number:i,db:e.allLocations[n],location_id:n,is_active:e.checkStatus,created_at:(new Date).getTime()};firebase.auth().createUserWithEmailAndPassword(s,o).then(function(a){e.savedUId=a.user.uid,e.savedUId&&(e.$store.dispatch(\"example/fetchAdminKey\",!0),firebase.database(app2).ref(\"UserDetails\").child(e.savedUId).set(d).then(function(a){l&&(d[\"warehouse_id\"]=l),e.showNotify(\"User added successfully.\"),e.updateDataTable(),e.closePopUp()})),firebase.auth().signInWithEmailAndPassword(e.$store.state.example.userEmail,e.$store.state.example.userPwd).catch(function(a){e.errorCode=a.code;a.message;e.showNotify(a.message),e.btnLoading=!1})}).catch(function(a){a.code,a.message;e.showNotify(a.message)})}},closePopUp:function(){var e=this;e.emtpyAllFields(),e.userModalAdd=!1},emtpyAllFields:function(){var e=this;e.firstName=\"\",e.lastName=\"\",e.warehouseId=\"\",e.emailId=\"\",e.UserId=\"\",e.Password=\"\",e.GroupId=\"\",e.GroupId=\"\",e.getLocation=\"\",e.LocationErrorMsg=!1,e.groupidErrorMsg=!1,e.WarehouseId=\"\",e.WarehouseIdErrorMsg=!1,e.phoneno=\"\",e.phonenoErrorMsg=!1,e.passwordErrorMsg=!1,e.firstNameErrorMsg=!1,e.lastNameErrorMsg=!1,e.warehouseIdErrorMsg=!1,e.emailIdErrorMsg=!1,e.mobileNoErrorMsg=!1,e.addUserDiv=!1,e.editUserDiv=!1,e.checkStatusForAdmin=!1,e.readonly=!1,e.disabled=!1,e.group_id=[\"\"]},validationForUserData:function(){return\"\"===this.firstName?(this.firstNameErrorMsg=!0,!1):(this.firstNameErrorMsg=!1,\"\"===this.emailId?(this.emailIdErrorMsg=!0,!1):(this.emailIdErrorMsg=!1,\"\"===this.Password?(this.passwordErrorMsg=!0,!1):(this.passwordErrorMsg=!1,\"\"===this.GroupId?(this.groupidErrorMsg=!0,!1):(this.groupidErrorMsg=!1,\"\"===this.getLocation?(this.LocationErrorMsg=!0,!1):(this.LocationErrorMsg=!1,\"\"===this.warehouseId&&\"DC\"===this.getLocation?(this.warehouseIdErrorMsg=!0,!1):(this.warehouseIdErrorMsg=!1,!0))))))},showNotify:function(e){var a=this;a.$q.notify({color:\"green\",textColor:\"white\",message:e,position:\"bottom-right\",timeout:3e3})}}},w=I,_=(t(\"6e40\"),t(\"2877\")),D=Object(_[\"a\"])(w,s,o,!1,null,null,null);D.options.__file=\"Usermanagement.vue\";a[\"default\"]=D.exports},\"2a1a\":function(e,a,t){},\"6e40\":function(e,a,t){\"use strict\";var s=t(\"2a1a\"),o=t.n(s);o.a}}]);","extractedComments":[]}