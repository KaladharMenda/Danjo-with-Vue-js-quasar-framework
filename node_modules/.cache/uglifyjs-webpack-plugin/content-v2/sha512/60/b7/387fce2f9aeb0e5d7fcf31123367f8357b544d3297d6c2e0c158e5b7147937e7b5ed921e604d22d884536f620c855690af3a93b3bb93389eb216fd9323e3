{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"5622096b\"],{4242:function(e,t,o){\"use strict\";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"About\"},[o(\"q-card\",{staticClass:\"bg-white card-styl\"},[o(\"div\",{staticClass:\"row\"},[o(\"div\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"},[o(\"h3\",{staticClass:\"inner_head_styl\"},[e._v(\"Uploads\")])])]),o(\"div\",{staticClass:\"row\"},[o(\"div\",{staticClass:\"col-lg-3 col-md-3 col-sm-12 col-xs-12\"},[e.spinner?o(\"div\",{staticClass:\"loader\"}):e._e(),o(\"q-btn\",{staticClass:\"full-width\",staticStyle:{\"margin-top\":\"10px\"},attrs:{color:\"green\",onclick:\"document.getElementById('file').click()\",label:\"Upload File\"}}),o(\"input\",{ref:\"file\",staticStyle:{display:\"none\"},attrs:{type:\"file\",id:\"file\"},on:{change:function(t){e.submitFile(t)}}})],1),o(\"div\",{staticClass:\"col-lg-1 col-md-1 col-sm-12 col-xs-12\"}),o(\"div\",{staticClass:\"col-lg-8 col-md-8 col-sm-12 col-xs-12\"},[e.progressCompleted?o(\"q-progress\",{staticStyle:{height:\"15px\"},attrs:{percentage:e.progressCompleted,color:\"info\",stripe:\"\",animate:\"\"}}):e._e()],1)])])],1)},n=[];a._withStripped=!0;o(\"28a5\");var s=o(\"7037\"),i=o.n(s),l=(o(\"2ef0\"),o(\"c604\")),r=o(\"62a9\"),c=o(\"66d7\"),d=o(\"7b38\"),u=o(\"53fe\"),p=o(\"0952\"),f=o(\"7646\"),m=o(\"6580\"),g=o(\"5931\"),v=o(\"2f48\"),h=o(\"6186\"),w=o(\"7051\"),b=o(\"2a70\"),C=o(\"bc9b\"),_=o(\"d3e7\"),y={components:{QTable:l[\"a\"],QTh:r[\"a\"],QTr:c[\"a\"],QTd:d[\"a\"],QTableColumns:u[\"a\"],QModal:p[\"a\"],QCard:f[\"a\"],QCardTitle:m[\"a\"],QSelect:g[\"a\"],QUploader:v[\"a\"],QSearch:h[\"a\"],QLayout:w[\"a\"],QModalLayout:b[\"a\"],QToggle:C[\"a\"],QProgress:_[\"a\"]},data:function(){return{spinner:!1,curItem:\"\",curVendor:\"\",progressCompleted:0}},mounted:function(){},methods:{dateTimeFormat:function(){var e=new Date,t=String(e.getDate()),o=String(e.getMonth()),a=String(e.getFullYear()),n=String(e.getHours()),s=String(e.getMinutes()),i=String(e.getSeconds()),l=t+\"/\"+o+\"/\"+a+\" \"+n+\":\"+s+\":\"+i;return l},submitFile:function(e){var t=this;t.spinner=!0;var o=e.target,a=new FileReader;a.onload=function(){var e=a.result;console.log(i()(e)),t.parseCSV(e,\"\\n\",\",\")},a.readAsText(o.files[0])},parseCSV:function(e,t,o){for(var a=this,n=e.split(t),s=0;s<1;s++)if(\"\"!=n[s]){var i=n[s].split(o);\"item_code\"===i[0]&&\"vendor_code\"===i[1]||\"vendor_name\"===i[2]?(a.uploadCsvData(n,o),a.showNotify(\"File uploaded successfully\")):a.showNotify(\"Please upload the valid file\")}a.spinner=!1},uploadCsvData:function(e,t){var o=this;(new Date).getTime();console.log(e.length);for(var a=1;a<e.length;a++){var n=100/e.length;if(o.progressCompleted=(a+1)*n,\"\"!=e[a]){var s=o.dateTimeFormat(),i=e[a].split(t);if(\"\"!=i[0]&&\"\"!=i[1]){if(o.curItem=\"\",window.app2.database().ref(\"ItemsCSV\").child(i[0]).on(\"value\",function(e){o.curItem=e.key}),!o.curItem){var l={item_code:i[0],vendor_code:i[1],created_at:s,updated_at:s};window.app2.database().ref(\"ItemsCSV\").child(l.item_code).set(l).then(function(e){console.log(\"New item entered\")},function(e){console.log(e)})}}else o.showNotify(\"Line number <b>\"+e[a]+\"</b> don't have proper item data\");if(\"\"!=i[1]&&\"\"!=i[2]){if(window.app2.database().ref(\"VendorsCSV\").child(i[0]).on(\"value\",function(e){o.curVendor=e.key}),!o.curVendor){var r=Math.floor(99*Math.random()+1),c={vendor_name:i[2],vendor_code:i[1],share:r,created_at:s,updated_at:s};console.log(c.vendor_code),window.app2.database().ref(\"VendorsCSV\").child(c.vendor_code).set(c).then(function(e){console.log(\"New vendor entered\")},function(e){console.log(e)})}}else o.showNotify(\"Line number <b>\"+e[a]+\"</b> don't have proper vendor data\")}}},showNotify:function(e){var t=this;t.$q.notify({color:\"black\",textColor:\"white\",message:e,position:\"bottom-right\",timeout:3e3})}}},S=y,Q=(o(\"86f0\"),o(\"2877\")),T=Object(Q[\"a\"])(S,a,n,!1,null,null,null);T.options.__file=\"uploads.vue\";t[\"default\"]=T.exports},\"86f0\":function(e,t,o){\"use strict\";var a=o(\"c379\"),n=o.n(a);n.a},c379:function(e,t,o){}}]);","extractedComments":[]}