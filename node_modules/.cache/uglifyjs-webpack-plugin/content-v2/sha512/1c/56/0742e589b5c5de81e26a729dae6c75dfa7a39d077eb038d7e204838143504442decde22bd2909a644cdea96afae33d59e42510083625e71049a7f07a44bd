{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"ad436d0e\"],{2293:function(e,t,a){\"use strict\";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"About\"},[a(\"q-card\",{staticClass:\"bg-white card-styl\"},[e.spinner?a(\"div\",{staticClass:\"loader\"}):e._e(),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12\",attrs:{align:\"right\"}},[a(\"q-btn\",{attrs:{slot:\"right\"},on:{click:function(t){e.addUser()}},slot:\"right\"},[e._v(\"ADD USER\")])],1)]),a(\"q-table\",{attrs:{data:e.tableData,title:\"User Details\",columns:e.columns,color:\"black\",filter:e.filter,separator:e.separator,\"row-key\":\"name\",loading:e.loading},scopedSlots:e._u([{key:\"top-right\",fn:function(t){return[a(\"q-search\",{staticClass:\"col-12\",model:{value:e.filter,callback:function(t){e.filter=t},expression:\"filter\"}})]}},{key:\"body\",fn:function(t){return a(\"q-tr\",{staticClass:\"cursor-pointer\",attrs:{props:t}},[e._l(t.cols,function(s){return a(\"q-td\",{key:s.name,attrs:{props:t}},[e._v(\"\\n         \"+e._s(s.value)+\"\\n       \")])}),a(\"q-td\",[a(\"q-btn\",{staticClass:\"q-mr-xs\",attrs:{color:\"green\",icon:\"edit\"},on:{click:function(a){e.editUserData(t.row)}}})],1)],2)}}])}),a(\"q-modal\",{attrs:{\"no-backdrop-dismiss\":\"\",\"content-css\":{minWidth:\"75vw\"}},model:{value:e.userModalAdd,callback:function(t){e.userModalAdd=t},expression:\"userModalAdd\"}},[a(\"q-modal-layout\",[a(\"q-toolbar\",{staticClass:\"bg-secondary\",attrs:{slot:\"header\"},slot:\"header\"},[e.addUserDiv?a(\"q-toolbar-title\",[e._v(\"\\n            Add New User\\n          \")]):e._e(),e.editUserDiv?a(\"q-toolbar-title\",[e._v(\"\\n            Edit User\\n          \")]):e._e(),a(\"q-btn\",{staticStyle:{float:\"right\"},attrs:{flat:\"\",round:\"\",dense:\"\",icon:\"close\"},on:{click:function(t){e.closePopUp()}}})],1),a(\"div\",{staticClass:\"q-pa-lg\"},[a(\"div\",{staticClass:\"row gutter-sm q-mb-md\"},[a(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[a(\"q-field\",[a(\"q-input\",{ref:\"firstName\",attrs:{type:\"text\",readonly:e.readonly,\"float-label\":\"Name *\"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:\"firstName\"}}),e.firstNameErrorMsg?a(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                      Please Enter Your Name.\\n                    \")]):e._e()],1)],1),a(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[a(\"q-field\",[a(\"q-input\",{staticClass:\"input-field inline_s\",attrs:{type:\"text\",\"float-label\":\"Password *\"},model:{value:e.Password,callback:function(t){e.Password=t},expression:\"Password\"}}),e.passwordErrorMsg?a(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                     Please Enter Password.\\n                  \")]):e._e()],1)],1),a(\"div\",{staticClass:\"col-lg-4 col-md-4 col-sm-12 col-xs-12\"},[a(\"q-field\",[a(\"q-select\",{attrs:{options:e.groupOptions,\"stack-label\":\"GroupId *\"},model:{value:e.GroupId,callback:function(t){e.GroupId=t},expression:\"GroupId\"}}),e.groupidErrorMsg?a(\"div\",{staticClass:\"first_s\"},[e._v(\"\\n                     Please Enter groupID.\\n                  \")]):e._e()],1)],1)]),a(\"div\",{staticClass:\"row justify-end q-mt-md\"},[e.checkStatusForAdmin?a(\"div\",{staticClass:\"col-lg-3 col-md-3 col-sm-6 col-xs-6\",staticStyle:{\"padding-top\":\"4px\",\"align-self\":\"center\"}},[a(\"q-toggle\",{attrs:{color:\"green\",label:\"Active\",\"left-label\":\"\"},model:{value:e.checkStatus,callback:function(t){e.checkStatus=t},expression:\"checkStatus\"}})],1):e._e(),a(\"div\",{staticClass:\"col-lg-3 col-md-3 col-sm-6 col-xs-6\"},[a(\"q-btn\",{staticClass:\"full-width otp_send\",attrs:{disabled:e.btnLoading},on:{click:function(t){e.submitUserData()}}},[a(\"span\",{staticClass:\"otp_fs\"},[e._v(\"SUBMIT\")])])],1)])])],1)],1)],1)],1)},r=[];s._withStripped=!0;a(\"7f7f\"),a(\"ac6a\");var o=a(\"c604\"),i=a(\"62a9\"),l=a(\"66d7\"),n=a(\"7b38\"),d=a(\"53fe\"),c=a(\"0952\"),u=a(\"7646\"),f=a(\"6580\"),m=a(\"5931\"),p=a(\"2f48\"),g=a(\"6186\"),v=a(\"7051\"),b=a(\"2a70\"),h=a(\"bc9b\"),w={components:{QTable:o[\"a\"],QTh:i[\"a\"],QTr:l[\"a\"],QTd:n[\"a\"],QTableColumns:d[\"a\"],QModal:c[\"a\"],QCard:u[\"a\"],QCardTitle:f[\"a\"],QSelect:m[\"a\"],QUploader:p[\"a\"],QSearch:g[\"a\"],QLayout:v[\"a\"],QModalLayout:b[\"a\"],QToggle:h[\"a\"]},data:function(){return{name:\"\",usertype:\"\",groupOptions:[{label:\"G1 - Teachers\",value:\"G1\"},{label:\"G2 - HOD & Principal\",value:\"G2\"}],btnLoading:!1,LocationErrorMsg:!1,tableData:[],loading:!1,separator:\"cell\",filter:\"\",userModalAdd:!1,firstName:\"\",firstNameErrorMsg:!1,emailId:\"\",emailIdErrorMsg:!1,UserId:\"\",UserIdErrorMsg:!1,Password:\"\",passwordErrorMsg:!1,GroupId:\"\",groupidErrorMsg:!1,readonly:!1,checkStatus:!0,checkStatusForAdmin:!1,dropDownRole:\"\",roleErrorMsg:!1,disableSbtn:!1,addUserDiv:!1,editUserDiv:!1,userKey:\"\",number:\"\",spinner:!1,userId:\"\",editAdminInfo:!0,columns:[{name:\"userName\",required:!0,label:\"User Name\",align:\"center\",field:\"userName\",sortable:!0,descending:!1},{name:\"role\",label:\"ROLE\",align:\"center\",field:\"role\",sortable:!0}]}},mounted:function(){},created:function(){var e=this;e.updateDataTable()},methods:{updateDataTable:function(){var e=this;e.loading=!0,e.tableData.length=0,firebase.database().ref(\"UserDetails\").once(\"value\",function(t){t.forEach(function(t){\"Admin\"!=t.val().usertype&&e.tableData.push({userName:t.val().name,role:t.val().usertype})}),e.tableData.reverse(),e.loading=!1})},getLocationID:function(){var e=this;e.enterSelectOptions=[];var t=firebase.database().ref(\"Locations\");t.once(\"value\",function(t){e.enterSelectOptions=[],t.forEach(function(t){var a=t.key;e.allLocations[t.key]=t.val(),e.enterSelectOptions.push({label:t.val().name,value:a})})})},addUser:function(){var e=this;e.addUserDiv=!0,e.userModalAdd=!0,setTimeout(function(){e.$refs.firstName.focus()},400)},editUserData:function(e){var t=this;t.readonly=!0,t.editUserDiv=!0,t.userModalAdd=!0;(new Date).getTime();firebase.database().ref(\"UserDetails/\"+e.userName).once(\"value\",function(e){t.checkStatusForAdmin=!0,t.firstName=e.val().name,t.Password=e.val().password,t.GroupId=e.val().usertype,t.checkStatus=e.val().is_active})},submitUserData:function(){var e=this;!0===e.addUserDiv&&e.addUserFunction(),!0===e.editUserDiv&&e.editUserFunction()},editUserFunction:function(){var e=this;if(e.btnLoading=!0,e.validationForUserData()){var t={name:e.firstName,password:e.Password,usertype:e.GroupId,is_active:e.checkStatus,created_at:(new Date).getTime()};firebase.database().ref(\"UserDetails/\"+e.firstName).update(t).then(function(){e.userModalAdd=!1,e.$q.notify({color:\"green\",textColor:\"white\",message:\"Data has been updated succussfully\",position:\"bottom-right\",timeout:3e3}),e.updateDataTable(),e.emtpyAllFields(),e.btnLoading=!1}).catch(function(t){e.$q.notify({color:\"black\",textColor:\"white\",message:\"Data couldn't be saved.Please try again later.\",position:\"bottom-left\",timeout:3e3}),e.emtpyAllFields(),e.btnLoading=!1})}e.btnLoading=!1},addUserFunction:function(){var e=this;if(e.btnLoading=!0,e.savedUId=\"\",e.validationForUserData()){var t=e.firstName,a=e.Password,s=e.GroupId,r={name:t,password:a,usertype:s,is_active:!0,created_at:(new Date).getTime()};r&&firebase.database().ref(\"UserDetails\").child(t).set(r).then(function(t){e.btnLoading=!1,e.showNotify(\"User added successfully.\"),e.updateDataTable(),e.closePopUp(),e.btnLoading=!1}).catch(function(t){t.code,t.message;e.showNotify(t.message),e.btnLoading=!1})}else e.btnLoading=!1},closePopUp:function(){var e=this;e.emtpyAllFields(),e.userModalAdd=!1},emtpyAllFields:function(){var e=this;e.firstName=\"\",e.name=\"\",e.usertype=\"\",e.emailId=\"\",e.UserId=\"\",e.Password=\"\",e.GroupId=\"\",e.groupidErrorMsg=!1,e.passwordErrorMsg=!1,e.firstNameErrorMsg=!1,e.emailIdErrorMsg=!1,e.addUserDiv=!1,e.btnLoading=!1,e.editUserDiv=!1,e.checkStatusForAdmin=!1,e.readonly=!1,e.disabled=!1},validationForUserData:function(){return\"\"===this.firstName?(this.firstNameErrorMsg=!0,!1):(this.firstNameErrorMsg=!1,\"\"===this.Password?(this.passwordErrorMsg=!0,!1):(this.passwordErrorMsg=!1,\"\"===this.GroupId?(this.groupidErrorMsg=!0,!1):(this.groupidErrorMsg=!1,!0)))},showNotify:function(e){var t=this;t.$q.notify({color:\"green\",textColor:\"white\",message:e,position:\"bottom-right\",timeout:3e3})}}},y=w,U=(a(\"6e40\"),a(\"2877\")),D=Object(U[\"a\"])(y,s,r,!1,null,null,null);D.options.__file=\"Usermanagement.vue\";t[\"default\"]=D.exports},\"2a1a\":function(e,t,a){},\"6e40\":function(e,t,a){\"use strict\";var s=a(\"2a1a\"),r=a.n(s);r.a}}]);","extractedComments":[]}