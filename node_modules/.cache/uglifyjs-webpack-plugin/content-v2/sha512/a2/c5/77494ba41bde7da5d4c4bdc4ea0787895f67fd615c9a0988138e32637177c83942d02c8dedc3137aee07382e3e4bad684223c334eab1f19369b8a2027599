{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"4ad9ff4e\"],{\"16a1\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"Picking\"},[a(\"q-card\",{staticClass:\"bg-white card-styl\"},[t.pageLoading?t._e():a(\"div\",{staticClass:\"loader\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"},[a(\"h3\",{staticClass:\"inner_head_styl\"},[t._v(\"Picking For B Type\")])])]),a(\"div\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center\"},[t.cartonTypeLoading||t.vendorIdOptionList.length||\"B\"!==t.cartonType||!t.showNotAvailable?t._e():a(\"h5\",{staticClass:\"text-center text-negative\"},[t._v(\"No Vendors for Type B\")])]),a(\"div\",{staticClass:\"row gutter-md text-center\"},[a(\"div\",{staticClass:\"offset-lg-4 col-lg-4 col-md-12 col-xs-12\"},[\"B\"===t.cartonType&&t.vendorIdOptionList.length?a(\"div\",[a(\"q-select\",{staticClass:\"el-width\",attrs:{filter:\"\",\"float-label\":\"Select Vendor\",options:t.vendorIdOptionList},on:{input:function(e){t.getVendorItems()}},model:{value:t.vendorId,callback:function(e){t.vendorId=e},expression:\"vendorId\"}})],1):t._e(),t.cartonTypeLoading?a(\"q-spinner\",{attrs:{color:\"green\",size:\"40px\"}}):t._e()],1)]),a(\"q-modal\",{attrs:{\"no-backdrop-dismiss\":\"\",\"no-esc-dismiss\":\"\",\"content-css\":{padding:\"10px 10px 10px 10px\",minWidth:\"70vw\",minHeight:\"84vh\"}},model:{value:t.eventsModal,callback:function(e){t.eventsModal=e},expression:\"eventsModal\"}},[a(\"div\",{staticClass:\"col\",attrs:{align:\"right\"}},[a(\"q-btn\",{attrs:{flat:\"\",round:\"\",dense:\"\"},on:{click:function(e){t.closePopup()}}},[t._v(\"X\")])],1),t.vendorId?a(\"div\",{staticClass:\"row q-mt-md\"},[t.vendorId?a(\"div\",{staticClass:\"col-md-12\"},[t.showBScanPickCarton?a(\"q-field\",[a(\"q-input\",{ref:\"pickingCarton\",attrs:{type:\"text\",\"float-label\":\"Open Picking Carton\"},on:{keyup:function(e){t.createPickingCarton()}},model:{value:t.pickingCarton,callback:function(e){t.pickingCarton=e},expression:\"pickingCarton\"}})],1):t._e()],1):t._e()]):t._e(),t.vendorId&&t.showBScanItem?a(\"div\",{staticClass:\"row q-mt-md\"},[a(\"q-tabs\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12\",attrs:{color:\"grey\",\"text-color\":\"white\"}},[\"B\"==t.cartonType?a(\"q-tab\",{attrs:{slot:\"title\",default:\"\",label:\"Scan To Pick\",name:\"tab-1\"},on:{click:t.getFocus},slot:\"title\"}):t._e(),\"B\"==t.cartonType?a(\"q-tab\",{attrs:{slot:\"title\",name:\"tab-2\",label:\"Pick List\"},slot:\"title\"}):t._e(),\"B\"==t.cartonType?a(\"q-tab-pane\",{attrs:{name:\"tab-1\"}},[t.showBScanItem?a(\"q-field\",[a(\"q-input\",{ref:\"scannedItemId\",attrs:{type:\"text\",\"float-label\":\"Scan Item\"},on:{keyup:t.updateItemBPicked},model:{value:t.scannedItemId,callback:function(e){t.scannedItemId=e},expression:\"scannedItemId\"}})],1):t._e(),t.showBScanItem?a(\"div\",{staticClass:\"row q-mt-md\"},[a(\"div\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"},[a(\"q-btn\",{staticClass:\"full-width\",attrs:{label:\"Close Carton\"},on:{click:function(e){t.closePickingCarton()}}})],1)]):t._e(),a(\"div\",{staticClass:\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 q-mt-md\"},[a(\"div\",{staticClass:\"row\"},[a(\"p\",[t._v(\"Remaining Items to Pick : \"+t._s(t.checkData.length)+\" \")])]),t.checkData.length>1?a(\"div\",{staticClass:\"row\",staticStyle:{position:\"absolute\",right:\"40px\"}},[a(\"q-btn\",{attrs:{label:\"Skip\"},on:{click:function(e){t.skipItem()}}})],1):t._e()]),a(\"div\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"},[t.pickData!==[]?a(\"q-table\",{attrs:{id:\"scanpicktable\",title:\"\",data:t.itemSuggested,loading:t.loading,columns:t.pickedTablesColumn,\"row-key\":\"name\"},scopedSlots:t._u([{key:\"body\",fn:function(e){return a(\"q-tr\",{attrs:{props:e}},[a(\"q-td\",{key:\"image_url\",attrs:{props:e,id:\"alignment\"}},[a(\"div\",{staticClass:\"row\",attrs:{align:\"center\"}},[a(\"div\",{staticClass:\"col-md-7 col-lg-7 col-sm-7 col-xs-7\"},[a(\"img\",{staticStyle:{height:\"200px\",width:\"150px\"},attrs:{src:e.row.image_link}})]),a(\"div\",{staticClass:\"col-md-4 col-lg-4 col-sm-4 col-xs-4 text-side-style\"},[a(\"div\",{staticClass:\"row\"},[a(\"span\",{staticClass:\"stylID\"},[t._v(\"Style: \"+t._s(e.row.style_id))])]),a(\"div\",{staticClass:\"row\"},[a(\"span\",[t._v(t._s(e.row.first_item_no))]),a(\"span\",{staticClass:\"text-info\",staticStyle:{\"font-size\":\"15px\"}},[a(\"b\",[t._v(t._s(e.row.last_item_no))])])]),a(\"div\",{staticClass:\"row\"},[a(\"span\",[t._v(t._s(e.row.carton_id))])]),a(\"div\",{staticClass:\"row\"},[a(\"span\",[t._v(t._s(e.row.location_id))])]),t.showBScanItem?a(\"hr\"):t._e(),t.showBScanItem?a(\"div\",{staticClass:\"row\"},[t._v(\"\\n                        Opened Carton:\\n                      \")]):t._e(),t.showBScanItem?a(\"div\",{staticClass:\"row\"},[a(\"span\",{staticClass:\"text-positive\"},[t._v(t._s(t.pickingCarton)+\" \")])]):t._e(),t.showBScanItem?a(\"div\",{staticClass:\"row\"},[a(\"span\",[t._v(\"Picked : \"),a(\"span\",{staticClass:\"text-positive\"},[t._v(t._s(t.pickingCartonQty)+\" \")])])]):t._e()])])])],1)}}])}):t._e()],1)],1):t._e(),\"B\"==t.cartonType?a(\"q-tab-pane\",{attrs:{name:\"tab-2\"}},[a(\"q-table\",{attrs:{loading:t.loading,title:\"Pick List\",data:t.pickData,columns:t.pickTablesColumn,\"row-key\":\"name\"},scopedSlots:t._u([{key:\"body\",fn:function(e){return a(\"q-tr\",{attrs:{props:e}},[a(\"q-td\",{key:\"carton_id\",attrs:{props:e}},[t._v(t._s(e.row.carton_id))]),a(\"q-td\",{key:\"item_id\",attrs:{props:e}},[t._v(t._s(e.row.item_id))]),a(\"q-td\",{key:\"location_id\",attrs:{props:e}},[t._v(t._s(e.row.location_id))]),a(\"q-td\",{key:\"picked_status\",attrs:{props:e}},[e.row.picked_status?t._e():a(\"q-btn\",{staticClass:\"otp_send\",attrs:{color:\"secondary\",disabled:t.btnLoading},on:{click:function(a){t.pickBItem(e.row,\"button\")}}},[t.btnLoading?a(\"q-spinner-hourglass\",{staticClass:\"on-left\"}):t._e(),a(\"span\",{staticClass:\"otp_fs\"},[t._v(\"Pick Item\")])],1),e.row.picked_status?a(\"q-icon\",{staticStyle:{color:\"green\"},attrs:{name:\"done\"}}):t._e()],1)],1)}}])})],1):t._e()],1)],1):t._e()])],1),t.pageLoading?a(\"div\",{staticClass:\"row\"},[a(\"q-spinner\",{staticClass:\"vertical-middle\",staticStyle:{margin:\"0 auto\"},attrs:{color:\"green\",size:\"40px\"}})],1):t._e()])],1)},n=[];i._withStripped=!0;a(\"8615\"),a(\"2fdb\"),a(\"6762\"),a(\"a481\"),a(\"cadf\"),a(\"456d\"),a(\"ac6a\");var o=a(\"9523\"),s=a.n(o),r=a(\"c604\"),c=a(\"62a9\"),l=a(\"66d7\"),d=a(\"7b38\"),p=a(\"53fe\"),u=a(\"0952\"),f=a(\"7646\"),v=a(\"6580\"),m=a(\"5931\"),g=a(\"2f48\"),h=a(\"6186\"),C=a(\"7051\"),_=a(\"2a70\"),k=a(\"bc9b\"),b=a(\"525b\"),w=a(\"133b\"),y=a(\"206e\"),I=a(\"a360\"),B=a(\"482e\"),S=a(\"52b5\"),q={props:{outline:Boolean,push:Boolean,flat:Boolean,color:String,textColor:String,glossy:Boolean}},T=a(\"fb40\"),x={name:\"QFab\",mixins:[q,T[\"a\"]],provide:function(){var t=this;return{__qFabClose:function(e){return t.hide(e).then(function(){return t.$refs.trigger&&t.$refs.trigger.$el&&t.$refs.trigger.$el.focus(),e})}}},props:{icon:String,activeIcon:String,direction:{type:String,default:\"right\"},persistent:Boolean},watch:{$route:function(){!this.persistent&&this.hide()}},created:function(){this.value&&this.show()},render:function(t){return t(\"div\",{staticClass:\"q-fab z-fab row inline justify-center\",class:{\"q-fab-opened\":this.showing}},[t(B[\"a\"],{ref:\"trigger\",props:{fab:!0,outline:this.outline,push:this.push,flat:this.flat,color:this.color,textColor:this.textColor,glossy:this.glossy},on:{click:this.toggle}},[this.$slots.tooltip,t(S[\"a\"],{staticClass:\"q-fab-icon absolute-full\",props:{name:this.icon||this.$q.icon.fab.icon}}),t(S[\"a\"],{staticClass:\"q-fab-active-icon absolute-full\",props:{name:this.activeIcon||this.$q.icon.fab.activeIcon}})]),t(\"div\",{staticClass:\"q-fab-actions flex no-wrap inline items-center\",class:\"q-fab-\".concat(this.direction)},this.$slots.default)])}},D={name:\"QFabAction\",mixins:[q],props:{icon:{type:String,required:!0}},inject:{__qFabClose:{default:function(){console.error(\"QFabAction needs to be child of QFab\")}}},methods:{click:function(t){var e=this;this.__qFabClose().then(function(){e.$emit(\"click\",t)})}},render:function(t){return t(B[\"a\"],{props:{fabMini:!0,outline:this.outline,push:this.push,flat:this.flat,color:this.color,textColor:this.textColor,glossy:this.glossy,icon:this.icon},on:{click:this.click}},this.$slots.default)}},L={components:{QFab:x,QFabAction:D,QTable:r[\"a\"],QTh:c[\"a\"],QTr:l[\"a\"],QTd:d[\"a\"],QTableColumns:p[\"a\"],QModal:u[\"a\"],QCard:f[\"a\"],QCardTitle:v[\"a\"],QSelect:m[\"a\"],QUploader:g[\"a\"],QSearch:h[\"a\"],QLayout:C[\"a\"],QModalLayout:_[\"a\"],QToggle:k[\"a\"],QCheckbox:b[\"a\"],Notify:w[\"a\"],QInnerLoading:y[\"a\"],QSpinnerHourglass:I[\"a\"]},data:function(){var t;return t={showBScanItem:0,showBScanPickCarton:1,pickingCartonQty:0,checkData:[],remainData:[],vendorData:[],pickingCarton:\"\",pickData:[],pickedData:[],pickedCartonsDataA:[],picklistDataA:[],vendorAData:[],topVendors:{},loading:!1,btnLoading:!1,cartonId:\"\",tempItem:\"\",cartonTypeLoading:!1,a:[],pageLoading:!0,eventsModal:!1,Pagination:{rowsPerPage:1},showStatus:1,cartonType:\"B\",scannedItem:\"\",scannedItemId:\"\",scanCarton:\"\",itemSuggested:[],pickingCartonStatus:\"\",userStat:\"\",vendorTablesColumn:[{name:\"carton_id\",required:!0,label:\"Carton ID\",align:\"left\",field:\"carton_id\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"},{name:\"created_at\",required:!0,label:\"Item Pushed In Carton At\",align:\"left\",field:\"created_at\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"},{name:\"item_id\",required:!0,label:\"Item ID\",align:\"left\",field:\"item_id\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"},{name:\"location_id\",required:!0,label:\"Located At\",align:\"left\",field:\"location_id\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"},{name:\"status_id\",required:!0,label:\"Carton Status\",align:\"left\",field:\"status_id\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"}],pickTablesColumn:[{name:\"carton_id\",required:!0,label:\"Carton ID\",align:\"left\",field:\"carton_id\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"},{name:\"item_id\",required:!0,label:\"Item ID\",align:\"left\",field:\"item_id\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"},{name:\"location_id\",required:!0,label:\"Located At\",align:\"left\",field:\"location_id\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"},{name:\"picked_status\",required:!0,label:\"Picked Status\",align:\"left\",field:\"picked_status\",sortable:!0,classes:\"my-class\",style:\"width: 500px\"}],pickedTablesColumn:[{name:\"image_url\",required:!0,label:\"Image\",align:\"left\",field:\"image_url\",sortable:!0,classes:\"my-class\"}],picklistA:[{name:\"carton_id\",required:!0,label:\"Carton ID\",align:\"left\",field:\"carton_id\",classes:\"my-class\",style:\"width: 500px\"},{name:\"quantity\",required:!0,label:\"Quantity\",align:\"left\",field:\"quantity\",classes:\"my-class\",style:\"width: 500px\"},{name:\"carton_status\",required:!0,label:\"Carton Status\",align:\"left\",field:\"carton_status\",classes:\"my-class\",style:\"width: 500px\"},{name:\"created_at\",required:!0,label:\"Created At\",align:\"left\",field:\"created_at\",classes:\"my-class\",style:\"width: 500px\"},{name:\" \",required:!0,label:\" \",align:\"left\",field:\"pickall\",classes:\"my-class\",style:\"width: 500px\"}]},s()(t,\"loading\",!1),s()(t,\"vendorIdOption\",[]),s()(t,\"pickedData\",[]),s()(t,\"vendorId\",\"\"),s()(t,\"collectvendorName\",[]),s()(t,\"cartonTypeOptions\",[{label:\"B\",value:\"B\"}]),s()(t,\"vendorIdOptionList\",[]),s()(t,\"selectedSecond\",[]),s()(t,\"showNotAvailable\",!1),s()(t,\"doCloseCarton\",0),s()(t,\"selected\",[]),t},mounted:function(){var t=this;t.getShareLimit(),t.getVendorList(),t.cartonType=\"B\"},created:function(){var t=this;t.userStat=firebase.auth().currentUser.uid,t.getShareLimit(),t.getVendorList(),t.cartonType=\"B\"},methods:{storeToFirestore:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;firebase.firestore().collection(\"userStats\").add({user_id:t,job_id:e,carton_id:a,item_id:i})},getTimeFormat:function(){var t=new Date,e=String(t.getDate()),a=String(parseInt(t.getMonth())+1),i=String(t.getFullYear()),n=String(t.getHours()),o=String(t.getMinutes()),s=String(t.getSeconds()),r=e+\"/\"+a+\"/\"+i+\" \"+n+\":\"+o+\":\"+s;return r},closeCarton:function(){if(\"B\"===this.cartonType){var t=this.closeCartonID;firebase.database().ref(\"CartonB/\"+t).remove(),firebase.database().ref(\"BClosedCartons\").child(t).set({carton_id:t,created_at:this.getTimeFormat()})}},getCartonList:function(){this.cartonId=\"\";var t=this,e=\"\",a=[],i=\"Carton\"+t.cartonType;e=window.app2.database().ref(i),e.once(\"value\",function(e){if(t.cartonIdOptions=[],e.val())e.forEach(function(e){t.closeCartonList=[];var i={label:e.val().carton_id,value:e.val().carton_id};a.push(i),t.closeCartonList=a,e.val().carton_id&&(t.closeCartonID=e.val().carton_id,t.cartonId=e.val().carton_id)}),t.resetValues();else{var i=[];w[\"a\"].create({message:\"No Cartons Available To Close in Type \"+t.cartonType,position:\"center\",icon:\"warning\",timeout:80}),a.push(i),t.closeCartonList=a,t.resetValues()}})},getNewCarton:function(){var t=this;if(\"B\"===t.cartonType){var e=firebase.database().ref(\"CartonFreeB\");e.once(\"value\",function(e){if(\"\"===t.cartonId){t.cartonId=e.val()[Object.keys(e.val())[0]][\"carton_id\"],firebase.database().ref(\"CartonFreeB/\"+t.cartonId).remove(),firebase.database().ref(\"CartonB\").child(t.cartonId).set({carton_id:t.cartonId,created_at:t.getTimeFormat()});var a={label:t.cartonId,value:t.cartonId};t.closeCartonList=[a]}})}},getVendorList:function(){var t=this;if(\"\"!==t.$store.state.example.userName){t.vendorIdOption=[];var e=window.app2.database().ref(\"Vendors\");e.once(\"value\",function(e){t.vendorIdOption=[],e.forEach(function(e){var a=e.key;t.vendorIdOption.push({label:e.val().Name,value:a})})})}else setTimeout(function(){t.getVendorList()},500)},generatePickList:function(){var t=this;t.pickData=[],t.pickedData=[];this.vendorData.forEach(function(e){e.location_id&&(\"Location Not Assigned\"!==e.location_id&&\"Closed\"==e.status_id&&(t.pickData.push(e),t.pickedData.push({LocatedAt:e.location_id,CartonID:e.carton_id,ItemID:e.item_id,image_url:e.image_link,Style:e.style_id}),t.itemSuggested=[],t.itemSuggested.push(e)),t.eventsModal=!0,setTimeout(function(){t.showBScanPickCarton&&t.$refs.pickingCarton.focus(),t.showBScanItem&&t.$refs.scannedItemId.focus(),t.loading=!1}))}),t.checkData=[],t.pickData.filter(t.onlyUnique),t.loading=!1},getVendorItems:function(){var t=this;if(\"A\"==t.cartonType)t.getVendorAData(),setTimeout(function(){t.$refs.scanCarton.focus()});else{this.loading=!0;t=this;t.vendorData=[],t.pickData=[],t.pickedData=[],window.app2.database().ref(\"ItemCartonB\").orderByChild(\"vendor_id\").equalTo(t.vendorId).once(\"value\",function(e){e.val()&&e.forEach(function(e){var a=e.key,i=String(a),n=i.slice(i.length-4,i.length),o=i.slice(0,i.length-4),s={first_item_no:o,last_item_no:n,item_id:o+n};window.app2.database().ref(\"BClosedCartons/\"+e.val().carton_id).once(\"value\",function(a){s[\"status_id\"]=\"Not Closed\",a.val()&&(s[\"status_id\"]=\"Closed\");var i=e.val().image_url;i&&(i=i.replace(\"http://\",\"https://\")),s[\"carton_id\"]=e.val().carton_id,s[\"image_link\"]=i,s[\"style_id\"]=e.val().style_Id,s[\"picked_status\"]=!!e.val().picked,s[\"created_at\"]=e.val().created_at,s[\"location_id\"]=e.val().location_id?e.val().location_id:\"Location Not Assigned\",t.vendorData.push(s),t.generatePickList()})})}),window.app2.database().ref(\"PickingBCarton\").orderByChild(\"vendor_id\").equalTo(t.vendorId).once(\"value\",function(e){e.val()?e.forEach(function(e){e.val()[\"closed\"]||(t.showBScanItem=1,t.pickingCarton=e.val()[\"carton_id\"],t.getQuantityPickedB(),t.showBScanPickCarton=0)}):(t.showBScanItem=0,t.showBScanPickCarton=1,t.pickingCarton=\"\",t.pickingCartonQty=0)})}},checkVendorType:function(){var t=this;t.loading=!0,setTimeout(function(){t.loading=!1},2e3),t.getVendorType()},pickItem:function(t){},flush:function(){var t=this,e=[];t.pickData.forEach(function(a){a.location_id?-1===e.indexOf(a.carton_id)&&e.push(a.carton_id):t.$q.notify({color:\"black\",textColor:\"white\",message:\"Location is not assigned For Carton \"+a.carton_id,position:\"center\",timeout:80})}),e.forEach(function(e){window.app2.database().ref(\"BClosedCartons/\"+e).remove(),window.app2.database().ref(\"ItemCartonB\").once(\"value\",function(t){t.forEach(function(t){t.val().carton_id==e&&(window.app2.database().ref(\"Location/\"+t.val().location_id+\"/status\").set(\"UnAssigned\"),window.app2.database().ref(\"ItemCartonB/\"+t.key).remove())})}),t.$q.notify({color:\"black\",textColor:\"white\",message:e+\" Carton Flushed\",position:\"center\",timeout:80}),t.vendorData=[]})},getShareLimit:function(){var t=this;\"\"!==t.$store.state.example.userName?window.app2.database().ref(\"WareHouseSettings\").once(\"value\",function(e){t.vendorLimit=e.val().VendorLimit,t.topVendors={},t.totalVendors={},t.getVendors()}):setTimeout(function(){t.getShareLimit()},500)},getVendors:function(){var t=this;window.app2.database().ref(\"Vendors\").once(\"value\",function(e){e.forEach(function(e){t.totalVendors[e.val().Vendor_id]||(t.totalVendors[e.val().Vendor_id]=e.val().share)}),t.getTopVendors(),t.getVendorForBinType()})},getTopVendors:function(){var t=this;t.temp_vendor=\"\",t.temp_vendor=Object.keys(t.totalVendors).reduce(function(e,a){return t.totalVendors[e]>t.totalVendors[a]?e:a}),!t.topVendors[t.temp_vendor]&&Object.keys(t.topVendors).length<t.vendorLimit&&(t.topVendors[t.temp_vendor]=t.totalVendors[t.temp_vendor],delete t.totalVendors[t.temp_vendor],t.getTopVendors())},getVendorForBinType:function(){var t=this;if(t.vendorId=\"\",Object.keys(t.topVendors).length){t.cartonTypeLoading=!0;Object.keys(t.topVendors);if(\"B\"===t.cartonType){t.vendorIdOptionList=[];var e=[],a=[],i=window.app2.database().ref(\"ItemCartonB\").orderByChild(\"picked\").equalTo(0);i.once(\"value\",function(i){i.val()||(t.cartonTypeLoading=!0,t.showNotAvailable=!0),i.val()&&(a=Object.keys(i.val()),a.forEach(function(a){var i=window.app2.database().ref(\"ItemCartonB/\"+a);i.once(\"value\",function(i){i.val()||(t.cartonTypeLoading=!0),i.val()&&(i.val().hasOwnProperty(\"location_id\")?window.app2.database().ref(\"Items/\"+a).once(\"value\",function(a){a.val()||(t.showNotAvailable=!0),a.val()&&(e.includes(a.val()[\"vendor_id\"])?(t.showNotAvailable=!0,t.pageLoading=!1):(e.push(a.val()[\"vendor_id\"]),window.app2.database().ref(\"Vendors/\"+a.val()[\"vendor_id\"]).once(\"value\",function(e){if(e.val()||(t.showNotAvailable=!0),e.val()){var a=e.key;t.collectvendorName.includes(a)||(t.collectvendorName.push(a),window.app2.database().ref(\"ItemCartonB\").orderByChild(\"vendor_id\").equalTo(a).once(\"value\",function(i){var n=i.numChildren();0!==n&&t.vendorIdOptionList.push({label:e.val().Name+\"(\"+n+\")\",value:a})}),0===t.vendorIdOptionList.length?t.showNotAvailable=!0:(t.showNotAvailable=!1,t.cartonTypeLoading=!1,t.pageLoading=!1))}})))}):(t.showNotAvailable=!0,t.pageLoading=!1))})})),t.cartonTypeLoading=!1}),t.pageLoading=!1}}},getVendorAData:function(){var t=this;t.loading=!0;t.vendorAData=[],t.picklistDataA=[],t.pickedCartonsDataA=[];var e=[],a=[],i={},n=\"\";window.app2.database().ref(\"AClosedCartons\").orderByChild(\"vendor_id\").equalTo(t.vendorId).once(\"value\",function(o){o.val()&&(t.loading=!0,o.forEach(function(o){if(t.loading=!0,e=[],t.picklistDataA=e,i[o.val()[\"carton_id\"]]=o.val(),n=o.val()[\"carton_id\"],parseInt(i[n][\"picked\"])&&(a.push(i[n]),t.pickedCartonsDataA=a),parseInt(o.val()[\"picked\"])){var s=window.app2.database().ref(\"ItemCartonA\").orderByChild(\"carton_id\").equalTo(o.val()[\"carton_id\"]);s.once(\"value\",function(e){if(e.val()){if(t.loading=!0,n=Object.values(e.val())[0][\"carton_id\"],Object.keys(i).includes(n)){i[n][\"quantity\"]=Object.keys(e.val()).length;var a=e.val()[Object.keys(e.val())[0]][\"item_id\"];window.app2.database().ref(\"ItemCartonA/\"+a).remove()}t.loading=!1}}),window.app2.database().ref(\"AClosedCartons/\"+n).remove()}else{s=window.app2.database().ref(\"ItemCartonA\").orderByChild(\"carton_id\").equalTo(o.val()[\"carton_id\"]);s.once(\"value\",function(o){o.val()&&(t.loading=!0,n=o.val()[Object.keys(o.val())[0]][\"carton_id\"],i[n][\"quantity\"]=Object.keys(o.val()).length,parseInt(i[n][\"picked\"])?(a.push(i[n]),t.pickedCartonsDataA=a):(e.push(i[n]),t.picklistDataA=e),t.loading=!1)})}t.loading=!1}),t.loading=!1)}),t.loading=!1},pickACarton:function(t){var e=this;if(13===event.keyCode||\"click\"===event.type){var a=t[\"carton_id\"];window.app2.database().ref(\"AClosedCartons/\").orderByChild(\"vendor_id\").equalTo(e.vendorId).once(\"value\",function(t){return t.val()&&Object.keys(t.val()).includes(a)?(window.app2.database().ref(\"AClosedCartons/\"+a+\"/picked\").set(1),e.getVendorAData(),void(e.scanCarton=\"\")):(w[\"a\"].create({message:\"Carton Not Available in Picking Page, Do Close Carton\",position:\"center\",icon:\"thumb_down\",timeout:80}),e.scanCarton=\"\",!1)}),e.$refs.scanCarton.focus()}},pickAllACarton:function(t){var e=this,a=t.length;t.forEach(function(t,i,n){if(t){var o=t[\"carton_id\"];window.app2.database().ref(\"AClosedCartons/\"+o+\"/picked\").set(1),a-1===i&&e.getVendorAData()}}),e.$refs.scanCarton.focus()},pickBItem:function(t,e){var a=this,i=t.carton_id;if(a.doCloseCarton=1,!a.pickingCarton){var n=new Audio(\"/statics/beep1.mp3\");return n.play(),w[\"a\"].create({message:\"No Picking Carton Opened\",position:\"center\",icon:\"warning\",timeout:80}),!1}if(a.btnLoading=!0,t.picked_status)return w[\"a\"].create({message:\"Item Already Picked\",position:\"center\",icon:\"warning\",timeout:80}),!1;var o=0;a.pickData.forEach(function(e){t.item_id==e.item_id&&(a.pickData[o].picked_status=!0),!a.pickData[o].picked_status&&a.doCloseCarton&&(a.doCloseCarton=0),o++,e.picked_status||(a.itemSuggested=[],a.itemSuggested.push(e))}),o=0,a.pickedData.forEach(function(e){t.item_id==e.ItemID&&a.pickedData.splice(e.__index,1)}),a.checkData=[],a.pickData.filter(a.onlyUnique),a.skipItem(),window.app2.database().ref(\"ItemCartonB/\"+t.item_id).update({picked:1,carton_id:a.pickingCarton,location_id:\"\"}),a.getQuantityPickedB(),a.resetValues();var s=window.app2.database().ref(\"ItemCartonB\").orderByChild(\"carton_id\").equalTo(i);s.once(\"value\",function(t){t.val()||window.app2.database().ref(\"BClosedCartons/\"+i).remove()}),a.doCloseCarton&&a.getQuantityPickedB(),a.btnLoading=!1},resetValues:function(){var t=this;setTimeout(function(){t.scannedItemId=\"\"},1e3)},updateItemBPicked:function(t){if(13===t.keyCode){var e=this,a=e.scannedItemId;if(a!==e.itemSuggested[0][\"item_id\"])return w[\"a\"].create({message:\"Pick Correct Item that is given\",position:\"center\",icon:\"warning\",timeout:80}),e.$refs.scannedItemId.focus(),e.resetValues(),!1;var i=e.getItemRow(a);\"\"!==i?(e.pickBItem(i[\"value\"]),e.storeToFirestore(e.$store.state.example.userName,\"JO05\",e.pickingCartonStatus,a)):(w[\"a\"].create({message:\"Item Not Available For Picking\",position:\"center\",icon:\"thumb_down\",timeout:80}),e.$refs.scannedItemId.focus(),e.scannedItemId=\"\",e.resetValues())}},getItemRow:function(t){var e=\"\";return this.pickData.forEach(function(a){a.item_id===t&&(e={value:a,index_val:a.__index})}),e},createPickingCarton:function(){if(13===event.keyCode){var t=this,e=window.app2.database().ref(\"PickingBCarton\").child(t.pickingCarton);e.once(\"value\",function(a){if(a.val())return w[\"a\"].create({message:\"Picked Carton with Same Name Already\",position:\"center\",icon:\"thumb_down\",timeout:80}),t.pickingCarton=\"\",!1;e.set({carton_id:t.pickingCarton,closed:0,created_at:t.getTimeFormat(),modified_at:t.getTimeFormat(),vendor_id:t.vendorId,picked:0}),t.pickingCartonStatus=t.pickingCarton,t.showBScanItem=1,t.showBScanPickCarton=0,t.pickingCartonQty=0})}},closePickingCarton:function(){var t=this;if(t.pickingCartonQty&&t.pickingCarton)window.app2.database().ref(\"PickingBCarton\").child(t.pickingCarton).update({closed:1,modified_at:t.getTimeFormat()}),t.showBScanItem=0,t.showBScanPickCarton=1,t.pickingCarton=\"\";else{var e=new Audio(\"/statics/beep1.mp3\");e.play(),w[\"a\"].create({message:\"Unable To Close Empty Carton\",position:\"center\",icon:\"warning\",timeout:80}),t.$refs.scannedItemId.focus()}},getQuantityPickedB:function(){var t=this;t.pickingCartonQty=0;var e=1;window.app2.database().ref(\"ItemCartonB\").orderByChild(\"carton_id\").equalTo(t.pickingCarton).once(\"value\",function(a){if(a.val()){if(t.pickingCartonQty=0,!e)return!1;e=0,a.forEach(function(e){e.val()[\"picked\"]&&(t.pickingCartonQty+=1)}),t.doCloseCarton&&(0===t.vendorIdOptionList.length&&t.closePickingCarton(),t.vendorIdOptionList.forEach(function(e,a,i){e[\"value\"]===t.vendorId&&(t.vendorIdOptionList.splice(a,1),w[\"a\"].create({message:\"Picking Completed for this Vendor\",position:\"center\",icon:\"warning\",timeout:80}),t.closePickingCarton(),t.closePopup(),t.pickedData=[],t.pickData=[],t.vendorId=\"\",t.vendorIdOptionList.length||(t.showNotAvailable=!0))}))}else t.pickingCartonQty=0})},onlyUnique:function(t,e,a){var i=this;t[\"picked_status\"]||i.checkData.push(t)},skipItem:function(){var t=this,e=1;t.checkData=[],t.pickData.filter(t.onlyUnique);var a=t.checkData.length;t.checkData.forEach(function(i,n,o){if(!i[\"picked_status\"]&&i[\"item_id\"]===t.itemSuggested[0][\"item_id\"]&&e){var s=n+1;return a-1<s?(s=0,t.itemSuggested=[],t.itemSuggested.push(t.checkData[s]),e=0,!1):(t.itemSuggested=[],t.itemSuggested.push(t.checkData[s]),e=0,!1)}}),setTimeout(function(){t.showBScanPickCarton&&t.$refs.pickingCarton.focus(),t.showBScanItem&&t.$refs.scannedItemId.focus(),t.loading=!1})},closePopup:function(){var t=this;t.eventsModal=!1},getFocus:function(){var t=this;setTimeout(function(){t.showBScanPickCarton&&t.$refs.pickingCarton.focus(),t.showBScanItem&&t.$refs.scannedItemId.focus(),t.loading=!1})}}},A=L,P=(a(\"2d7f\"),a(\"2877\")),V=Object(P[\"a\"])(A,i,n,!1,null,null,null);V.options.__file=\"picking.vue\";e[\"default\"]=V.exports},\"2d7f\":function(t,e,a){\"use strict\";var i=a(\"3355\"),n=a.n(i);n.a},3355:function(t,e,a){},\"504c\":function(t,e,a){var i=a(\"0d58\"),n=a(\"6821\"),o=a(\"52a7\").f;t.exports=function(t){return function(e){var a,s=n(e),r=i(s),c=r.length,l=0,d=[];while(c>l)o.call(s,a=r[l++])&&d.push(t?[a,s[a]]:s[a]);return d}}},8615:function(t,e,a){var i=a(\"5ca1\"),n=a(\"504c\")(!1);i(i.S,\"Object\",{values:function(t){return n(t)}})},a360:function(t,e,a){\"use strict\";var i=a(\"0b3d\");e[\"a\"]={name:\"QSpinnerHourglass\",mixins:[i[\"a\"]],render:function(t){return t(\"svg\",{staticClass:\"q-spinner\",class:this.classes,attrs:{width:this.size,height:this.size,viewBox:\"0 0 100 100\",preserveAspectRatio:\"xMidYMid\",xmlns:\"http://www.w3.org/2000/svg\"}},[t(\"g\",[t(\"path\",{staticClass:\"glass\",attrs:{fill:\"none\",stroke:\"currentColor\",\"stroke-width\":\"5\",\"stroke-miterlimit\":\"10\",d:\"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z\"}}),t(\"clipPath\",{attrs:{id:\"uil-hourglass-clip1\"}},[t(\"rect\",{staticClass:\"clip\",attrs:{x:\"15\",y:\"20\",width:\"70\",height:\"25\"}},[t(\"animate\",{attrs:{attributeName:\"height\",from:\"25\",to:\"0\",dur:\"1s\",repeatCount:\"indefinite\",vlaues:\"25;0;0\",keyTimes:\"0;0.5;1\"}}),t(\"animate\",{attrs:{attributeName:\"y\",from:\"20\",to:\"45\",dur:\"1s\",repeatCount:\"indefinite\",vlaues:\"20;45;45\",keyTimes:\"0;0.5;1\"}})])]),t(\"clipPath\",{attrs:{id:\"uil-hourglass-clip2\"}},[t(\"rect\",{staticClass:\"clip\",attrs:{x:\"15\",y:\"55\",width:\"70\",height:\"25\"}},[t(\"animate\",{attrs:{attributeName:\"height\",from:\"0\",to:\"25\",dur:\"1s\",repeatCount:\"indefinite\",vlaues:\"0;25;25\",keyTimes:\"0;0.5;1\"}}),t(\"animate\",{attrs:{attributeName:\"y\",from:\"80\",to:\"55\",dur:\"1s\",repeatCount:\"indefinite\",vlaues:\"80;55;55\",keyTimes:\"0;0.5;1\"}})])]),t(\"path\",{staticClass:\"sand\",attrs:{d:\"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z\",\"clip-path\":\"url(#uil-hourglass-clip1)\",fill:\"currentColor\"}}),t(\"path\",{staticClass:\"sand\",attrs:{d:\"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z\",\"clip-path\":\"url(#uil-hourglass-clip2)\",fill:\"currentColor\"}}),t(\"animateTransform\",{attrs:{attributeName:\"transform\",type:\"rotate\",from:\"0 50 50\",to:\"180 50 50\",repeatCount:\"indefinite\",dur:\"1s\",values:\"0 50 50;0 50 50;180 50 50\",keyTimes:\"0;0.7;1\"}})])])}}}}]);","extractedComments":[]}