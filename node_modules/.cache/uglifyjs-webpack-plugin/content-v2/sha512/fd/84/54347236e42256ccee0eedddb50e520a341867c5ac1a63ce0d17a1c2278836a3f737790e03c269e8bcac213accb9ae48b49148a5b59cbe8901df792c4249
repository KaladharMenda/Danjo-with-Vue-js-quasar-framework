{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"253989b5\"],{\"0628\":function(t,e,a){},\"1f19\":function(t,e,a){\"use strict\";var o=a(\"0628\"),n=a.n(o);n.a},ffd9:function(t,e,a){\"use strict\";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"About\"},[a(\"q-card\",{staticClass:\"bg-white card-styl\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",[a(\"i\",{staticClass:\"material-icons\",staticStyle:{\"font-size\":\"30px\"}},[a(\"strong\",[a(\"a\",{staticClass:\"floating-left\",attrs:{href:\"javascript:void(0)\"},on:{click:function(e){t.backtoCreateStn()}}},[t._v(\"\\n           keyboard_backspace\\n         \")])])])])]),a(\"div\",{staticClass:\"carton-items-data\"},[a(\"q-table\",{attrs:{data:t.cartonsList,title:\"Cartons Info\",columns:t.columns,color:\"black\",filter:t.filter,separator:t.separator,\"row-key\":\"name\",loading:t.loading},scopedSlots:t._u([{key:\"top-right\",fn:function(e){return[a(\"q-search\",{staticClass:\"col-12\",model:{value:t.filter,callback:function(e){t.filter=e},expression:\"filter\"}})]}},{key:\"body\",fn:function(e){return a(\"q-tr\",{staticClass:\"cursor-pointer\",attrs:{props:e},nativeOn:{click:function(a){t.rowClick(e.row)}}},t._l(e.cols,function(o){return a(\"q-td\",{key:o.name,attrs:{props:e}},[t._v(\"\\n          \"+t._s(o.value)+\"\\n        \")])}))}}])})],1),a(\"q-modal\",{attrs:{\"no-backdrop-dismiss\":\"\",\"no-esc-dismiss\":\"\",\"content-css\":{padding:\"20px\",minWidth:\"75vw\"}},model:{value:t.fileUploadModel,callback:function(e){t.fileUploadModel=e},expression:\"fileUploadModel\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col\",attrs:{align:\"right\"}},[a(\"q-btn\",{attrs:{flat:\"\",round:\"\",dense:\"\"},on:{click:function(e){t.closePopup()}}},[t._v(\"X\")])],1)]),a(\"q-table\",{attrs:{data:t.itemsList,title:\"Items Info\",columns:t.items,color:\"black\",filter:t.filter,separator:t.separator,\"row-key\":\"name\",loading:t.loading},scopedSlots:t._u([{key:\"top-right\",fn:function(e){return[a(\"q-search\",{staticClass:\"col-12\",model:{value:t.filter,callback:function(e){t.filter=e},expression:\"filter\"}})]}},{key:\"body\",fn:function(e){return a(\"q-tr\",{staticClass:\"cursor-pointer\",attrs:{props:e}},[t._l(e.cols,function(o){return a(\"q-td\",{key:o.name,attrs:{props:e}},[t._v(\"\\n          \"+t._s(o.value)+\"\\n        \")])}),a(\"q-td\",[a(\"q-btn\",{attrs:{round:\"\",color:\"red\",icon:\"delete\"},on:{click:function(a){t.deleteItem(e.row.ItemId)}}})],1)],2)}}])})],1)],1)],1)},n=[];o._withStripped=!0;a(\"ac6a\"),a(\"2ef0\");var s=a(\"bc3a\"),r=a.n(s),l=a(\"c604\"),i=a(\"62a9\"),c=a(\"66d7\"),u=a(\"7b38\"),d=a(\"53fe\"),m=a(\"0952\"),f=a(\"7646\"),p=a(\"6580\"),b=a(\"5931\"),g=a(\"2f48\"),v=a(\"6186\"),h=a(\"7051\"),C=a(\"2a70\"),I=a(\"bc9b\"),S=a(\"206e\"),k={components:{QTable:l[\"a\"],QTh:i[\"a\"],QTr:c[\"a\"],QTd:u[\"a\"],QTableColumns:d[\"a\"],QModal:m[\"a\"],QCard:f[\"a\"],QCardTitle:p[\"a\"],QSelect:b[\"a\"],QUploader:g[\"a\"],QSearch:v[\"a\"],QLayout:h[\"a\"],QModalLayout:C[\"a\"],QToggle:I[\"a\"],QInnerLoading:S[\"a\"]},data:function(){return{separator:\"cell\",filter:\"\",tempStn:\"\",totalItems:\"\",valueless:!1,uploaded_items:\"\",currentsource:\"\",totalBags:\"\",uploaded_cartons:\"\",tempcatonNo:\"\",tempcartonno1:\"\",itemsList:[],loading:!1,stNumber:\"\",fileUploadModel:!1,cartonsList:[],columns:[{name:\"carton_number\",label:\"Carton Number\",align:\"center\",field:\"carton_number\",sortable:!0},{name:\"ItemsCount\",label:\"Items Count\",align:\"center\",field:\"item\",sortable:!0}],items:[{name:\"ItemId\",label:\"ItemId\",align:\"center\",field:\"ItemId\",sortable:!0},{name:\"Status\",label:\"Status\",align:\"center\",field:\"Status\",sortable:!0}]}},mounted:function(){},created:function(){var t=this,e=t.$route.params.stNo;t.stNumber=e,firebase.auth().onAuthStateChanged(function(e){e?firebase.database(app2).ref(\"UserDetails\").once(\"value\",function(a){a.forEach(function(a){e.uid==a.key&&a.val()&&(t.user=a.val(),t.Source=t.user.location_id,console.log(t.user))})}):t.$router.push(\"/\")}),setTimeout(function(){t.getCartonItemDetails(e,t.Source)},1e3)},methods:{getCartonItemDetails:function(t,e){var a=this;a.tempStn=t,a.loading=!0,a.cartonsList=[],r.a.post(baseUrlForBackend+\"/stn/details\",{stn:t}).then(function(t){a.cartonsList=t.data.cartons,a.loading=!1})},rowClick:function(t){var e=this;if(0==t.ItemsCount)e.deleteItem1(t);else{e=this;e.fileUploadModel=!0,e.tempcatonNo=t.carton_number,e.deleteItemsFun(t.carton_number)}},deleteItemsFun:function(t){var e=this;e.itemsList=[],r.a.post(baseUrlForBackend+\"/stn/mbag/details\",{mbag_id:t}).then(function(t){t.data.forEach(function(t){console.log(t),e.itemsList.push({ItemId:t.item_id,Status:t.status})})})},closePopup:function(){var t=this;t.fileUploadModel=!1},deleteItem:function(t){var e=this,a=this;console.log(a.Source),console.log(t),console.log(a.tempcatonNo),console.log(a.tempStn),a.tempcartonno1=a.tempcatonNo,swal({title:\"Are you sure?\",text:\"Going to Delete This Item : \"+t,icon:\"warning\",buttons:!0,dangerMode:!0}).then(function(a){var o=e;a?r.a.post(baseUrlForBackend+\"/stn/item/remove\",{stn:o.tempStn,item:t,mbag:o.tempcatonNo}).then(function(e){swal(\"Poof !    \"+t+\"  Your Item deleted!\",{icon:\"success\"}),o.deleteItemsFun(o.tempcartonno1),o.getCartonItemDetails(o.tempStn,o.Source)}):swal(\"Your Item is safe :   \"+t)})},deleteItem1:function(t){var e=this,a=this;0==t.ItemsCount&&(a.fileUploadModel=!1,console.log(t),console.log(a.tempStn),a.tempcartonno1=t.carton_number,swal({title:\"Are you sure?\",text:\"Going to Delete This Carton : \"+a.tempcartonno1,icon:\"warning\",buttons:!0,dangerMode:!0}).then(function(t){var a=e;t?(firebase.database(app2).ref(\"StnCartonItemData/\"+a.Source+\"/\"+a.tempStn+\"/\"+a.tempcartonno1).remove(),firebase.database(app2).ref(\"StnMasterBagMapping/\"+a.tempcartonno1).remove(),firebase.database(app2).ref(\"StnCartonItemData/\"+a.Source+\"/\"+a.tempStn).once(\"value\",function(t){a.totalBags=t.val().totalBags-1}),setTimeout(function(){firebase.database(app2).ref(\"StnCartonItemData/\"+a.Source+\"/\"+a.tempStn+\"/totalBags\").set(a.totalBags)},500),swal(\"Poof !    \"+a.tempcartonno1+\"  Your Carton deleted!\",{icon:\"success\"}),a.getCartonItemDetails(a.tempStn,a.Source)):swal(\"Your Carton is safe :   \"+a.tempcartonno1)}))},backtoCreateStn:function(){this.$router.push(\"../../createStn\")}}},_=k,w=(a(\"1f19\"),a(\"2877\")),y=Object(w[\"a\"])(_,o,n,!1,null,null,null);y.options.__file=\"stncartoninfo.vue\";e[\"default\"]=y.exports}}]);","extractedComments":[]}